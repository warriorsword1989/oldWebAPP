<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>FastMap设施编辑系统</title>
        <link href="../../favicon.ico" rel="icon" type="image/x-icon" />
        <link rel="stylesheet" type="text/css" href="../../scripts/libs/bootstrap-3.3.5/css/bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="../../scripts/libs/bootstrap-3.3.5/css/bootstrap-theme.css"/>
        <link rel="stylesheet" type="text/css" href="../../scripts/libs/ui-layout/ui-layout.css">
        <link rel="stylesheet" type="text/css" href="../../scripts/libs/leaflet-0.7.3/leaflet.css">
        <link rel="stylesheet" type="text/css" href="../../scripts/libs/sweet-alert/css/sweet-alert.css">
        <link rel="stylesheet" type="text/css" href="../../styles/imeep/editor.css">
        <link rel="stylesheet" type="text/css" href="../../styles/imeep/editor-road.css">
        <script type="text/javascript" src="../../scripts/libs/jquery/2.1.1/jquery-2.1.1.js"></script>
        <script type="text/javascript" src="../../scripts/libs/leaflet-0.7.3/plugins/wicket.js"></script><!--//不能require-->
        <script type="text/javascript" src="../../scripts/libs/bootstrap-3.3.5/js/bootstrap.js"></script><!--//不能require-->
        <script type="text/javascript" src="../../scripts/fastmap/fastmap.js"></script>
        <script type="text/javascript" src="../../scripts/fastmap/fastmap-util.js"></script>
        <script type="text/javascript" src="../../scripts/dataApi/dataModel-poi.js"></script>
        <style>
                .btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
                    border-radius: 0!important;
                    border-radius: 0!important;
                }
                .addNode_false {
                    background: url('../../../images/road/button/dot_add.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addNode_true {
                    background: url('../../../images/road//button/dot_add_selected.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addLink_false {
                    background: url('../../../images/road//button/line_add.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addLink_true {
                    background: url('../../../images/road//button/line_add_selected.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addRelation_false {
                    background: url('../../../images/road//button/relation_add.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addRelation_true {
                    background: url('../../../images/road//button/relation_add_selected.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addRdMultidDgitized_false {
                    background: url('../../../images/road//button/multidDgitized_add.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                .addRdMultidDgitized_true {
                    background: url('../../../images/road/button/multidDgitized_add_selected.png') no-repeat;
                    width: 32px;
                    height: 32px;
                }
                #fm-addShapeContainer>button:focus{
                    outline: none;
                }
                /**/
                .btn{
                    position: relative;
                }
                .left{
                    left: 0;
                }
                .left50{
                    left: 70px;
                }
                .left100{
                    left: 130px;
                }

                @-webkit-keyframes rotate {
                    0%,
                    100% {
                        -webkit-transform: rotate(0deg);
                    }
                    100% {
                        -webkit-transform: rotate(360deg);
                    }
                }
                @-moz-keyframes rotate {
                    0%,
                    100% {
                        -moz-transform: rotate(0deg);
                    }
                    100% {
                        -moz-transform: rotate(360deg);
                    }
                }
                @-o-keyframes rotate {
                    0%,
                    100% {
                        -o-transform: rotate(0deg);
                    }
                    100% {
                        -o-transform: rotate(360deg);
                    }
                }
                @-ms-keyframes rotate {
                    0%,
                    100% {
                        -ms-transform: rotate(0deg);
                    }
                    100% {
                        -ms-transform: rotate(360deg);
                    }
                }
                @keyframes rotate {
                    0%,
                    100% {
                        transform: rotate(0deg);
                    }
                    100% {
                        transform: rotate(360deg);
                    }
                }
                .hourglass{//为了尽可能兼容各个浏览器
                -moz-animation: rotate 2s linear infinite;
                    -webkit-animation: rotate 2s linear infinite;
                    -o-animation: rotate 2s linear infinite;
                    -ms-animation: rotate 2s linear infinite;
                    animation: rotate 2s linear infinite;
                }

                /**/
                .btn-shape{
                    color: #fff;
                    background-color: #7F7F7F;
                    border: 1px solid #494949;
                }
                .btn-shape:hover{
                    border: 1px solid #494949;
                }
                .shape-well{
                    max-width: 367px;
                    background-color: #494949;
                    text-align: center;
                    opacity: .9;
                }
        </style>
    </head>
    <body ng-controller="PoiEditorCtl">
        <div ui-layout="{flow:'column',dividerSize:'0'}" ui-layout-loaded>
            <div ui-layout-container class="fm-banner" size="50px">
                <div class="banner-top"><a><strong>FM</strong></a></div>
                <div class="banner-center">
                    <div ng-class="{1:'selected'}[selectedTool]" ng-click="changeEditTool('tipsPanel')">
                        <a><i title="成果" class="glyphicon glyphicon-home"></i></a>
                    </div>
                    <div ng-class="{2:'selected'}[selectedTool]" ng-click="changeEditTool('scenePanel')">
                        <a><i title="场景" class="glyphicon glyphicon-facetime-video"></i></a>
                    </div>
                    <div ng-class="{3:'selected'}[selectedTool]" ng-click="changeEditTool('layerPanel')">
                        <a><i title="图层" class="glyphicon glyphicon-tasks"></i></a>
                    </div>
                    <div ng-class="{3:'selected'}[selectedTool]" ng-click="changeEditTool('layerPanel')">
                        <a href="../roadnet/editor.html"><i title="道路编辑" class="glyphicon glyphicon-pencil"></i></a>
                    </div>
                </div>
                <div class="banner-bottom">
                    <div><a><i title="用户" class="glyphicon glyphicon-user"></i></a></div>
                    <div><a><i title="退出" class="glyphicon glyphicon-log-out"></i></a></div>
                </div>
            </div>
            <div ui-layout-container>
                <div ui-layout="{flow:'column',dividerSize:'0',disableToggle:true}" class="fm-no-scroll">
                    <div class="fm-container fm-col dark scroll-styled" ui-layout-container size="250px" min-size="250px">
                        <div class="title"><i class="glyphicon glyphicon-list"></i> POI数据</div>
                        <div class="fm-tabs">
                            <a href="#" ng-class="{'tab': true, 'active': dataListType == 1}" ng-click="changeDataList(1)">待作业</a>
                            <a href="#" ng-class="{'tab': true, 'active': dataListType == 2}" ng-click="changeDataList(2)">待提交</a>
                            <a href="#" ng-class="{'tab': true, 'active': dataListType == 3}" ng-click="changeDataList(3)">已提交</a>
                        </div>
                        <div class="content">
                            <div class="table-toolbar">
                                <div class="table-search fm-inline">
                                    <button>名称</button><input class="fm-ctl" placeholder="搜索" />
                                </div>
                            </div>
                            <table class="table table-bordered table-condensed" style="color:#fff;margin-top:8px;margin-bottom:0px;">
                                <thead>
                                    <td>序号</td>
                                    <td>名称</td>
                                    <td>分类</td>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in poiList" ng-click="selectData(item)" style="cursor:pointer;">
                                        <td>{{$index + 1}}</td>
                                        <td>{{item.name}}</td>
                                        <td>{{item.kindCode}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <nav>
                                <ul class="pagination" style="margin:8px 0px 0px;">
                                    <li>
                                        <a href="#" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                        </a>
                                    </li>
                                    <li><a href="#">1</a></li>
                                    <li><a href="#">2</a></li>
                                    <li>
                                        <a href="#" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div ui-layout-container>
                        <div ui-layout="{flow:'row',dividerSize:'0'}" class="blackTheme">
                            <div ui-layout-container id="map" style="background-color:#FFF;width: 100%;height: 100%;position: absolute;"></div>
                            <div style="position:absolute;z-index:1;background-color:black;top:0px;left:50px;padding:5px;">
                                <button type="button" class="btn btn-xs btn-default" ng-click="showToolbox('search')">搜　 索 <span ng-show="handleobj=='search'" class="glyphicon glyphicon-hourglass hourglass"  aria-hidden="true"></span></button>
                                <button type="button" class="btn btn-xs btn-default" ng-click="showToolbox('auto')">自动录入 <span ng-show="handleobj=='auto'" class="glyphicon glyphicon-hourglass hourglass"  aria-hidden="true"></span></button>
                                <button type="button" class="btn btn-xs btn-default" ng-click="showToolbox('batch')">批处理 <span ng-show="handleobj=='batch'" class="glyphicon glyphicon-hourglass hourglass"  aria-hidden="true"></span></button>
                                <div ng-if="toolModal" ng-class="{'left': one, 'left50': two, 'left100':three}" style="min-width:300px;min-height: 180px;opacity: 0.9;background: #313131;z-index: 100;position: absolute;top:50px;left:toolLeft;border-radius: 4px;color: #fff">
                                    <div ng-include="tplUrl"></div>
                                </div>
                            </div>
                            <div style="position:absolute;z-index:1;background:black;top:0px;left:290px;padding:5px;">
                                <div class="btn-group" ng-init="chosenBtnOpened=false">
                                    <button type="button" class="btn btn-xs" ng-class="{false:'btn-primary',true:'btn-danger'}[chosenBtnOpened]" ng-click="chosenBtnOpened=!chosenBtnOpened;addBtnOpened=false;advanceBtnOpened=false;" ng-bind="chosenBtnOpened?'收起《':'选择 》'"></button>
                                    <div class="btn-group" ng-if="chosenBtnOpened">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">点 <span class="caret"></span></button>
                                            <ul class="dropdown-menu shape-well" role="menu">
                                                <div class="btn-group btn-group-sm" style="margin: 0px 2px;">
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('RDGSC', $event)">RDNODE</button>
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('BRANCH_3D', $event)">RWNODE</button>
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('RDRESTRICTION', $event)">ADNODE</button>
                                                </div>
                                            </ul>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">线 <span class="caret"></span></button>
                                            <ul class="dropdown-menu shape-well" role="menu">
                                                <div class="btn-group btn-group-sm" style="margin: 0px 2px;">
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('RDGSC', $event)">RDLINK</button>
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('BRANCH_3D', $event)">RWLINK</button>
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('RDRESTRICTION', $event)">ADLINK</button>
                                                </div>
                                            </ul>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">面 <span class="caret"></span></button>
                                            <ul class="dropdown-menu shape-well" role="menu">
                                                <div class="btn-group btn-group-sm" style="margin: 0px 2px;">
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('RDGSC', $event)">ADFACE</button>
                                                    <button type="button" class="btn btn-shape" ng-click="selectNode('BRANCH_3D', $event)">ZONEFACE</button>
                                                </div>
                                            </ul>
                                        </div>
                                        <button type="button" class="btn btn-xs btn-default">关系</button>
                                        <button type="button" class="btn btn-xs btn-default">Tips</button>
                                        <button type="button" class="btn btn-xs btn-default">点要素</button>
                                    </div>
                                </div>
                                <div class="btn-group" ng-init="addBtnOpened=false">
                                    <button type="button" class="btn btn-xs" ng-class="{false:'btn-primary',true:'btn-danger'}[addBtnOpened]" ng-click="addBtnOpened=!addBtnOpened;chosenBtnOpened=false;advanceBtnOpened=false;" ng-bind="addBtnOpened?'收起《':'新增 》'"></button>
                                    <div class="btn-group" ng-if="addBtnOpened">
                                        <button type="button" class="btn btn-xs btn-default">点</button>
                                        <button type="button" class="btn btn-xs btn-default">线</button>
                                        <button type="button" class="btn btn-xs btn-default">面</button>
                                        <button type="button" class="btn btn-xs btn-default">关系</button>
                                        <button type="button" class="btn btn-xs btn-default">Tips</button>
                                        <button type="button" class="btn btn-xs btn-default">点要素</button>
                                    </div>
                                </div>
                                <div class="btn-group" ng-init="advanceBtnOpened=false">
                                    <button type="button" class="btn btn-xs" ng-class="{false:'btn-primary',true:'btn-danger'}[advanceBtnOpened]" ng-click="advanceBtnOpened=!advanceBtnOpened;chosenBtnOpened=false;addBtnOpened=false;" ng-bind="advanceBtnOpened?'收起《':'高级 》'"></button>
                                    <div class="btn-group" ng-if="advanceBtnOpened">
                                        <button type="button" class="btn btn-xs btn-default">上下线分离</button>
                                        <button type="button" class="btn btn-xs btn-default">制作辅路</button>
                                        <button type="button" class="btn btn-xs btn-default">追踪选择</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="fm-foldable fm-col" style="width: 300px;" ng-style="{'right':{true: '0px', false: '-285px', 'none': '-300px'}[attrPanelOpened]}" ng-init="attrPanelOpened=true">
                            <div class="fm-fold-btn">
                                <a href="#" ng-class="{true: 'arrow-right', false: 'arrow-left'}[attrPanelOpened]" ng-click="attrPanelOpened=!attrPanelOpened"></a>
                            </div>
                            <div class="fm-container fm-col fm-lvl1 scroll-styled" style="width:285px;">
                                <div class="title"><i class="glyphicon glyphicon-edit"></i> POI属性</div>
                                <div class="fm-tabs">
                                    <a href="#" ng-class="{'tab': true, 'active': propertyType == 'base'}" ng-click="changeProperty('base')">基本属性</a>
                                    <a href="#" ng-class="{'tab': true, 'active': propertyType == 'deep'}" ng-click="changeProperty('deep')">深度信息</a>
                                    <a href="#" ng-class="{'tab': true, 'active': propertyType == 'relate'}" ng-click="changeProperty('relate')">父子关系</a>
                                    <a href="#" ng-class="{'tab': true, 'active': propertyType == 'file'}" ng-click="changeProperty('file')">文件上传</a>
                                </div>
                                <div ng-show="propertyType=='base'">
                                    <div class="fm-panel" >
                                        <div class="content">
                                            <ul class="fm-ul fm-ul-form">
                                                <li>
                                                    <label>名 称</label>
                                                    <div><input type="text" class="fm-control" ng-model="selectedPoi.name"/></div>
                                                </li>
                                                <li>
                                                    <label>地 址</label>
                                                    <div><input type="text" class="fm-control" ng-model="selectedPoi.address"/></div>
                                                </li>
                                                <li>
                                                    <label>邮政编码</label>
                                                    <div><input type="text" class="fm-control" ng-model="selectedPoi.zipCode"/></div>
                                                </li>
                                                <li>
                                                    <label>种 别</label>
                                                    <div>
                                                        <select class="fm-control">
                                                            <option>--</option>
                                                            <option>停车场</option>
                                                            <option>中餐馆</option>
                                                            <option>学校</option>
                                                        </select>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>品 牌</label>
                                                    <div>
                                                        <select class="fm-control">
                                                            <option>--</option>
                                                            <option>肯德基</option>
                                                            <option>麦当劳</option>
                                                            <option>德克士</option>
                                                        </select>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>等 级</label>
                                                    <div>
                                                        <label>
                                                            <input type="radio" name="level" value="A" ng-model="selectedPoi.level"> A
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="level" value="B" ng-model="selectedPoi.level"> B
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="level" value="C" ng-model="selectedPoi.level"> C
                                                        </label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label class="control-label">24小时</label>
                                                    <div>
                                                        <label>
                                                            <input type="radio" name="24h" value="0" ng-model="selectedPoi.h24">
                                                            是
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="24h" value="1" ng-model="selectedPoi.h24">
                                                            否
                                                        </label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label class="control-label">室内POI</label>
                                                    <div>
                                                        <label>
                                                            <input type="radio" name="indoor" value="0" ng-model="selectedPoi.indoor">
                                                            是
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="indoor" value="1" ng-model="selectedPoi.indoor">
                                                            否
                                                        </label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label class="control-label">备 注</label>
                                                    <div class="inline">
                                                        <textarea class="fm-control"></textarea>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="fm-panel">
                                        <div class="title"><a href="javascript:void(0);" title="点击添加电话" ng-click="addContact()">联系电话 &nbsp;&nbsp;<i class="glyphicon glyphicon-plus-sign"></i></a>
                                            <span style="float:right;">共 <span ng-bind="selectedPoi.contacts.length"></span> 条</span>
                                        </div>
                                        <div class="content" style="max-height: 300px;">
                                            <ul class="fm-ul fm-ul-list">
                                                <li ng-repeat="item in selectedPoi.contacts">
                                                    <div>
                                                        <input type='text' class="fm-control tel-code" maxlength="5" ng-model="item.code" ng-show="item.type==1">
                                                        <span ng-show="item.type==1"> - </span>
                                                        <input type='text' ng-class="{'fm-control': true, 'tel-number': item.type == 1, 'tel-cellphone': item.type == 2}" maxlength="11" ng-model="item.number">
                                                    </div>
                                                    <div>
                                                        <a href="javascript:void(0);" ng-click="deleteContact($index);"><i class="glyphicon glyphicon-remove-sign"></i></a>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="propertyType=='deep'">
                                    <div class="fm-panel" >
                                        <div class="title">停车场</div>
                                        <div class="content">
                                            <ul class="fm-ul fm-ul-form">
                                                <li class="flexbox-container">
                                                    <label>类 型</label>
                                                    <div class="block">
                                                        <label>
                                                            <input type="radio" name="parkingType" value="A"> 室内
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="parkingType" value="B"> 室内地上
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="parkingType" value="C"> 室外
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="parkingType" value="D"> 占道
                                                        </label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>收费标准</label>
                                                    <div>
                                                        <label ng-repeat="(key, value) in parkingFee">
                                                            <input type="checkbox" value="{{key}}" ng-model="selectedPoi.parkingFee[key]" ng-change="changeParkingFee(key)"> {{value}}
                                                        </label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>收费方式</label>
                                                    <div class="block">
                                                        <label>
                                                            <input type="checkbox" name="parkingFeeType" value="A"> 人工收费
                                                        </label>
                                                        <label>
                                                            <input type="checkbox" name="parkingFeeType" value="B"> 电子收费
                                                        </label>
                                                        <label>
                                                            <input type="checkbox" name="parkingFeeType" value="C"> 自助缴费
                                                        </label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>收费备注</label>
                                                    <div>
                                                        <select class="fm-control">
                                                            <option>--</option>
                                                            <option>停车场</option>
                                                            <option>中餐馆</option>
                                                            <option>学校</option>
                                                        </select>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>车位数</label>
                                                    <div>
                                                        <input type="text" class="fm-control"/>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>营业时间</label>
                                                    <div>
                                                        <textarea></textarea>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>收费描述</label>
                                                    <div>
                                                        <textarea></textarea>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="propertyType=='relate'">
                                    <div class="fm-panel">
                                        <div class="title">父POI</div>
                                        <div class="content">
                                            <ul class="fm-ul fm-ul-list">
                                                <li>
                                                    <label>
                                                        父POI的名称
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);"><i class="glyphicon glyphicon-link"></i></a>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="fm-panel">
                                        <div class="title">子POI <span style="float:right;">共 <span ng-bind="selectedPoi.relatedChildren.length">4</span> 条</div>
                                        <div class="content">
                                            <ul class="fm-ul fm-ul-list">
                                                <li>
                                                    <label>
                                                        子POI的名称
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);"><i class="glyphicon glyphicon-link"></i></a>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>
                                                        子POI的名称
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);"><i class="glyphicon glyphicon-link"></i></a>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>
                                                        子POI的名称
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);"><i class="glyphicon glyphicon-link"></i></a>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>
                                                        子POI的名称
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);"><i class="glyphicon glyphicon-link"></i></a>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="propertyType=='file'">
                                    <div ng-include="fileUploadTpl"></div>
                                    <div class="fm-panel">
                                        <div class="title">上传文件
                                            <span style="float:right;">
                                            <a href="javascript:void(0);" style="margin-left: 5px;"><i class="glyphicon glyphicon-plus-sign"></i></a>
                                            <a href="javascript:void(0);" style="margin-left: 5px;"><i class="glyphicon glyphicon-cloud-upload"></i></a>
                                            </span>
                                        </div>
                                        <div class="content">
                                            <ul class="fm-ul fm-ul-list">
                                                <li>
                                                    <label>
                                                        图片1.jpg
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);" style="margin-left: 5px;"><i class="glyphicon glyphicon-remove-sign"></i></a>
                                                        <a href="javascript:void(0);" style="margin-left: 5px;"><i class="glyphicon glyphicon-cloud-upload"></i></a>
                                                    </div>
                                                </li>
                                                <li>
                                                    <label>
                                                        图片2.png
                                                    </label>
                                                    <div>
                                                        <a href="javascript:void(0);" style="margin-left: 5px;"><i class="glyphicon glyphicon-remove-sign"></i></a>
                                                        <a href="javascript:void(0);" style="margin-left: 5px;"><i class="glyphicon glyphicon-cloud-upload"></i></a>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div style="bottom: 0px;position:fixed;margin: 0px 10px;">
                                    <div class="btn-group btn-group-justified">
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xs fm-btn" ng-click="save()">
                                            <i class="glyphicon glyphicon-floppy-disk"></i> 保 存
                                            </button>
                                        </div>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xs fm-btn" ng-click="delete()">
                                            <i class="glyphicon glyphicon-trash"></i> 删 除
                                            </button>
                                        </div>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xs fm-btn" ng-click="cancel()">
                                            <i class="glyphicon glyphicon-floppy-remove"></i> 取 消
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="fm-foldable fm-row" style="height: 200px;width: auto;left: 5px;" ng-style="{'bottom':{true: '0px', false: '-185px', 'none': '-200px'}[outputPanelOpened], right: {true: '290px', false: '5px', 'none': '5px'}[attrPanelOpened]}" ng-init="outputPanelOpened=true">
                            <div class="fm-fold-btn">
                                <a href="#" ng-class="{true: 'arrow-down', false: 'arrow-up'}[outputPanelOpened]" ng-click="outputPanelOpened=!outputPanelOpened">
                                </a>
                            </div>
                            <div class="fm-container fm-row fm-lvl1 scroll-styled" style="height:185px;">
                                <div class="fm-tabs">
                                    <a href="#" ng-class="{'tab': true, 'active': outputType == 1}" ng-click="changeOutput(1)">检查结果</a>
                                    <a href="#" ng-class="{'tab': true, 'active': outputType == 2}" ng-click="changeOutput(2)">冲突检测</a>
                                    <a href="#" ng-class="{'tab': true, 'active': outputType == 3}" ng-click="changeOutput(3)">操作履历</a>
                                </div>
                                <div class="content" style="padding: 5px;">
                                    <div ng-show="outputType==1 || outputType==2">
                                        <table class="table table-bordered table-condensed" style="color:#fff;margin-bottom:0px;">
                                            <thead>
                                                <td>序号</td>
                                                <td>规则编码</td>
                                                <td>错误描述</td>
                                                <td>操 作</td>
                                                <td>关联POI</td>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in selectedPoi.checkResults">
                                                    <td ng-bind="$index + 1"></td>
                                                    <td ng-bind="item.errorCode"></td>
                                                    <td ng-bind="item.errorMessage"></td>
                                                    <td><a href="javascript:void(0);" ng-click="doIgnore($index)">忽 略</a></td>
                                                    <td><a href="javascript:void(0);" ng-click="showRelatedPoi(item.refFeatures)" ng-bind="item.refFeatures.length"></a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div ng-show="outputType==3">
                                        <table class="table table-bordered table-condensed" style="color:#fff;margin-bottom:0px;">
                                            <thead>
                                                <td>序号</td>
                                                <td>作业员</td>
                                                <td>操作时间</td>
                                                <td>操作描述</td>
                                                <td>作业平台</td>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in selectedPoi.editHistory">
                                                    <td ng-bind="$index + 1"></td>
                                                    <td ng-bind="item.operator"></td>
                                                    <td ng-bind="item.operateDate"></td>
                                                    <td ng-bind="item.operateDesc"></td>
                                                    <td ng-bind="item.platform"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script type="text/javascript" data-main="../../scripts/uikits/poibase/poiEditor-require" src="../../scripts/libs/require/require.js"></script>
        </body>
    </html>