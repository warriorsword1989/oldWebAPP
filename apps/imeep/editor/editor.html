<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>FastMap设施编辑系统</title>
        <link href="../../../favicon.ico" rel="icon" type="image/x-icon" />
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/bootstrap-3.3.5/css/bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/bootstrap-3.3.5/css/bootstrap-theme.css"/>
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/ui-layout/ui-layout.css">
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/leaflet-0.7.3/leaflet.css">
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/sweet-alert-upgrade/sweetalert.css">
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/angular-chosen/chosen.css"/>
        <link rel="stylesheet" type="text/css" href="../../../styles/imeep/editor.css">
        <link rel="stylesheet" type="text/css" href="../../../styles/imeep/editor-road.css">
        <link rel="stylesheet" type="text/css" href="../../../styles/imeep/animate.min.css">
        <link rel="stylesheet" type="text/css" href="../../../scripts/libs/z-tree/css/zTreeStyle.css">
        <script src="../../../scripts/libs/leaflet-0.7.3/leaflet-src.js"></script>
        <script type="text/javascript" src="../Application.js"></script>
        <script type="text/javascript" src="../../../scripts/fastmap/fastmap.js"></script>
        <script type="text/javascript" src="../../../scripts/fastmap/fastmap-util.js"></script>
        <script type="text/javascript" src="../../../scripts/dataApi/dataModel-poi-new.js"></script>
        <script type="text/javascript" src="../../../scripts/dataApi/dataApi-new.js"></script>
        <script type="text/javascript" src="../../../scripts/utils/Utils.js"></script>
        <script src="loadMapApi.js"></script>
        <script src="loadUikit.js"></script>
        <script src="loadCanvasFeature.js"></script>
    </head>
    <body ng-controller="EditorCtl">
        <div ui-layout="{flow:'column',dividerSize:'0'}" ui-layout-loaded>
            <div ui-layout-container class="fm-banner animated fadeInLeft" size="50px">
                <div class="banner-top"><a><strong>FM</strong></a></div>
                <div class="banner-center">
                    <div ng-class="{1:'selected'}[selectedTool]" ng-click="changeEditTool('tipsPanel')">
                        <a><i title="成果" class="glyphicon glyphicon-home"></i></a>
                    </div>
                    <div ng-class="{2:'selected'}[selectedTool]" ng-click="changeEditTool('scenePanel')">
                        <a><i title="场景" class="glyphicon glyphicon-facetime-video"></i></a>
                    </div>
                </div>
                <div class="banner-bottom">
                    <div><a><i title="用户" class="glyphicon glyphicon-user"></i></a></div>
                    <div><a><i title="退出" class="glyphicon glyphicon-log-out"></i></a></div>
                </div>
            </div>
            <div ui-layout-container>
                <div ui-layout="{flow:'column',dividerSize:'0',disableToggle:true}">
                    <div ui-layout-container class="fm-container fm-col dark scroll-styled animated fadeInLeft" size="250px">
                        <div class="fm-tabs" ng-if="showTab" style="padding:0px;">
                            <a href="#" class="tab col-sm-6" ng-class="{1:'active'}[projectType]" ng-click="changeProject(1)">POI作业</a>
                            <a href="#" class="tab col-sm-6" ng-class="{2:'active'}[projectType]" ng-click="changeProject(2)">道路作业</a>
                        </div>
                        <div class="content">
                            <!--左侧数据列表-->
                            <div ng-include="dataListTpl"></div>
                        </div>
                    </div>
                    <div ui-layout-container class="fm-no-scroll">
                        <div ui-layout="{flow:'row',dividerSize:'0'}">
                            <div ui-layout-container id="map" style="background-color:#FFF;width: 100%;height: 100%;position: absolute;">
                            </div>
                            <div id="toolsDiv" style="left:5px;top:5px;height: 40px;position: absolute;z-index:1;background-color: transparent">
                                <div class="btn-toolbar" style="margin-left: 0px">
                                    <div ng-include="selectShapeURL" style="float: left"></div>
                                    <div ng-include="selectPoiURL" style="float: left"></div>
                                    <div ng-include="addPoiURL" style="float: left;"></div>
                                    <div ng-include="addShapeURL" style="float: left;"></div>
                                    <div ng-include="modifyToolURL" style="float: left"></div>
                                    <div ng-include="selectAdShapeURL" style="float: left"></div>
                                    <div ng-include="addAdShapeURL" style="float: left;"></div>
                                    <div ng-include="selectRwShapeURL" style="float: left"></div>
                                    <div ng-include="addRwShapeURL" style="float: left"></div>
                                </div>
                            </div>
                            <div id="zoomLevelBar" class="div_float"></div>
                        </div>
                        <!--右侧属性编辑面板-->
                        <div class="fm-foldable fm-col" style="width: 315px;" ng-style="{'right':{true: '0px', false: '-300px', 'none': '-315px'}[editorPanelOpened]}">
                            <div class="fm-fold-btn">
                                <a href="#" ng-class="{true: 'arrow-right', false: 'arrow-left'}[editorPanelOpened]" ng-click="editorPanelOpened=!editorPanelOpened">
                                </a>
                            </div>
                            <div class="fm-container fm-col fm-lvl1" style="width:300px;">
                                <div class="title"><i class="glyphicon glyphicon-edit"></i> 属性编辑</div>
                                <div ng-include="attrTplContainer" class="scroll-styled blackTheme"></div>
                                <div style="bottom: 0px;position:absolute;width: 100%;">
                                    <div class="btn-group btn-group-justified">
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xs fm-btn" ng-click="doSave()">
                                            <i class="glyphicon glyphicon-floppy-disk"></i> 保 存
                                            </button>
                                        </div>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xs fm-btn" ng-click="doDelete()">
                                            <i class="glyphicon glyphicon-trash"></i> 删 除
                                            </button>
                                        </div>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-xs fm-btn" ng-click="doCancel()">
                                            <i class="glyphicon glyphicon-floppy-remove"></i> 取 消
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 二级属性片段 -->
                        <div ng-class="{true:'suspend',false:'suspend_hide'}[suspendPanelOpened]">
                            <div id="tkclosediv" style="margin-top: -20px">
                                <button ng-click="subAttrTplContainerSwitch(false)" type="button" class="btn btn-xs ">
                                <a href="#" data-toggle="tab" style="font-size: 10px;">
                                <i class="glyphicon glyphicon-remove-circle"></i> 关 闭
                                </a>
                                </button>
                            </div>
                            <div  ng-include="subAttrTplContainer" class="scroll-styled blackTheme" style="overflow-y: auto;height: 100%;">
                            </div>
                        </div>
                        <!--下方输出信息面板-->
                        <div class="fm-foldable fm-row" style="height: 255px;left: 5px;width: auto;" ng-style="{'bottom':{true: '0px', false: '-240px'}[consolePanelOpened], right: {true: '305px', false: '5px', 'none': '5px'}[editorPanelOpened]}">
                            <div class="fm-fold-btn">
                                <a href="#" ng-class="{true: 'arrow-down', false: 'arrow-up'}[consolePanelOpened]" ng-click="consolePanelOpened=!consolePanelOpened">
                                </a>
                            </div>
                            <div class="fm-container fm-row fm-lvl2" style="height:240px;">
                                <div ng-include="consoleDeskTpl"></div>
                            </div>
                        </div>
                        <div ng-class="{true:'popoverTips animated-fast fadeInLeft',false:'popoverTips animated-fast fadeOutLeft'}[tipsPanelOpened]">
                            <div ng-include="tipsTplContainer" class="tipsPanel"></div>
                        </div>
                    </div>
                    <div id='tooltip' class="tooltipclass"></div>
                </div>
            </div>
            <!--全屏-->
            <div ng-class="{true:'full-screen-img-panel animated-fast zoomIn',false:'full-screen-img-panel animated-fast zoomOut'}[showFullScreen]" ng-show="showFullScreen" ng-click="closeFullScreen();">
                <span class="pull-right">
                <i class="glyphicon glyphicon-remove-sign close-tips-ico" ng-click="closeFullScreen();"></i>
                </span>
                <img ng-src="{{pImageNow.originUrl}}"/>
            </div>
        </div>
        <div ng-show="showLoading" id="loadingAnimate" class="show-animation" ng-include="'svgLoading.html'"></div>
        <div id="dataTipsOriginModal" style="display:none">
            <div ng-include="tipsPitureContainer" style="height: 100%;width: 100%"></div>
        </div>
        <div id="dataTipsVideoModal" style="display:none">
            <div ng-include="tipsVideoContainer" style="height: 100%;width: 100%"></div>
        </div>
        <div id="fullScalePic" ng-show="roadFullScreen" ng-click="hideFullPic();"><img src=""></div>
        <script type="text/javascript" data-main="editor-require" src="../../../scripts/libs/require/require.js"></script>
    </body>
</html>