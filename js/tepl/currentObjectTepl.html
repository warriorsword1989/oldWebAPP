<meta charset="UTF-8">
<link rel="stylesheet" href="../lib/bootstrap-3.3.5/css/bootstrap.css">
<link rel="stylesheet" href="../../css/font-awesome.min.css" type="text/css">
<script src="../lib/angularjs/1.4.4/angular.js"></script>
<script src="../lib/jquery/2.1.1/jquery-2.1.1.js"></script>
<script src="../lib/bootstrap-3.3.5/js/bootstrap.js"></script>
<script src="data.js"></script>
<style>
    div {
        font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 14px;
        -webkit-font-smoothing: antialiased;
        line-height: 1.42857143;
        color: #58666e;
        background-color: transparent;
        margin-right: 0px;
    }

    label {
        font-weight: normal;
    }

    #currentObjectDiv{
        border: 1px solid #FBFBFB;
        width: 30%;
        height: 100%;
    }

    .line-dashed {
        background-color: transparent;
        border-style: dashed !important;
        border-width: 0;
    }

    .b-b {
        border-bottom: 1px solid #dee5e7;
    }

    .line-lg {
        margin-top: 15px;
        margin-bottom: 15px;
    }

    .pull-in {
        margin-left: -15px;
        margin-right: -15px;
    }

    .col-centered {
        float: none;
        margin: 0 auto;
    }
</style>
<div id="currentObjectDiv" ng-app="currentApp" ng-controller="currentController">
    <div style="height:5%">
        <form class="form-horizontal" method="get">

            <div class="form-group">
                <label class="col-sm-2 control-label">道路线</label>

                <div class="col-sm-10">
                    <input type="text" class="form-control rounded" placeholder="123456789">
                </div>
            </div>
        </form>
    </div>
    <div class="line line-dashed b-b line-lg pull-in"></div>
    <div style="height: 10%">
        <form class="form-horizontal" method="get">

            <div class="form-group">
                <div class="col-sm-12 ">
                    <div class="btn-group" style="width:100%;" >
                        <button type="button" style="width: 33%" ng-click="changeModule('basicModule')" class="btn btn-default">基础属性</button>
                        <button type="button" style="width: 33%" ng-click="changeModule('limitedModule')" class="btn btn-default">限制信息</button>
                        <button type="button" style="width: 34%"  ng-click="changeModule('paginationModule')" class="btn btn-default">行人导航</button>
                    </div>
                </div>

                <div class="col-sm-12" >
                    <div class="btn-group" style="width: 100%;">
                        <button type="button" style="width: 33%" ng-click="changeModule('realtimeModule')" class="btn btn-default">实时交通</button>
                        <button type="button" style="width: 33%" ng-click="changeModule('zoneModule')" class="btn btn-default">区域属性</button>
                        <button type="button" style="width: 34%"  class="btn btn-default">其他属性</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="line line-dashed b-b line-lg pull-in"></div>
    <div style="overflow-y: auto ">
        <div ng-include="currentURL"></div></div>
</div>
<script>
    var myApp = angular.module("currentApp", []);
    myApp.controller('currentController', function ($scope) {
        $scope.data = currentTest;
        $scope.linkLimitData = limitTest;
        $scope.naviData = naviTest;
        $scope.rticData = rticTest;
        $scope.zoneData = zoneTest;
        $scope.currentURL = "objTepl/basicTepl.html";
        $scope.changeModule=function(url){
            if(url==="basicModule") {
                $scope.currentURL = "objTepl/basicTepl.html";
            } else if(url==="paginationModule") {
                $scope.currentURL = "objTepl/pedestrianNaviTepl.html";
            }else if(url==="realtimeModule") {
                $scope.currentURL = 'objTepl/realtimeTrafficTepl.html';
            } else if(url==="zoneModule") {
                $scope.currentURL = "objTepl/zonePeopertyTepl.html";
            }else if(url==="limitedModule") {
                $scope.currentURL = "objTepl/limitedTepl.html";
            }

        }
        $scope.addRoadName=function(){
            if(!$("#loadPropertyDiv").hasClass("in")) {
                $("#loadPropertyDiv").addClass("in");
            }
            $scope.data.nameCount.unshift({name:"",linkPid:"121"})
        }
        $scope.minusRoadName=function(id) {
            $scope.data.nameCount.splice(id, 1);
            if($scope.data.nameCount.length===0) {
                if($("#loadPropertyDiv").hasClass("in")) {
                    $("#loadPropertyDiv").removeClass("in");
                }
            }
        };
        $scope.changeDirect=function(direc) {
            alert("dddd");
        };
        $scope.addLimit=function() {
            if(!$("#popularLimitedDiv").hasClass("in")) {
                $("#popularLimitedDiv").addClass("in");
            }
            $scope.linkLimitData.linkLimit.unshift( {
                appInfo: "1",
                type: "1",
                limitDir: "1",
                tollType: "1",
                weather: "1",
                processFlag: "1"
            });
        };
        $scope.minusLimit=function(id) {
            $scope.linkLimitData.linkLimit.splice(id, 1);

        };
        $scope.addLimitTruck = function () {
            if(!$("#trafficLimitedDiv").hasClass("in")) {
                $("#trafficLimitedDiv").addClass("in");
            }

            $scope.linkLimitData.linkLimitTruck.unshift(
                    {
                        truckFlag: "1",
                        limitDir: "1",
                        resTrailer: "1",
                        resWeigh: "0",
                        resAxleLoad: "0",
                        resAxleCount: "0",
                        resOut: "0"
                    }
            )
        };
        $scope.minusLimitTruck=function(id) {
            $scope.linkLimitData.linkLimitTruck.splice(id, 1);
            if($scope.linkLimitData.linkLimitTruck.length===0) {
                if($("#trafficLimitedDiv").hasClass("in")) {
                    $("#trafficLimitedDiv").removeClass("in");
                }

            }
        };
        $scope.addSideWalk=function() {
            if(!$("#sideWalkDiv").hasClass("in")) {
                $("#sideWalkDiv").addClass("in");
            }
           $scope.naviData.sideWalkData={
               sidewalkLoc:"4",
               dividerType:"2",
               workDir:"2",
               processFlag:"1",
               captureFlag:"1"
           }
        };
        $scope.minusSideWalk = function () {
            $scope.naviData.sideWalkData = undefined;
            if($("#sideWalkDiv").hasClass("in")) {
                $("#sideWalkDiv").removeClass("in");
            }
        };
        $scope.addStairWalk = function () {
            if(!$("#humanLadderDiv").hasClass("in")) {
                $("#humanLadderDiv").addClass("in");
            }
            $scope.naviData.walkStairData = {
                stairLoc: "2",
                stairFlag: "1",
                workDir: "1",
                captureFlag: "1"
            }
        };
        $scope.minusStairWalk=function() {
            $scope.naviData.walkStairData = undefined;
            if($("#humanLadderDiv").hasClass("in")) {
                $("#humanLadderDiv").removeClass("in");
            }
        };
        $scope.addIntRtic = function () {
            if(!$("#wideRTICDiv").hasClass("in")) {
                $("#wideRTICDiv").addClass("in");
            }
            $scope.rticData.intRticData.unshift(
                    {
                        code: "0",
                        rank: "0",
                        rticDr: "2",
                        updownFlag: "0",
                        rangeType: "1"
                    }
            )
        };
        $scope.minusIntRtic = function (id) {
            $scope.rticData.intRticData.splice(id, 1);
            if($scope.rticData.intRticData.length===0) {
                if($("#wideRTICDiv").hasClass("in")) {
                    $("#wideRTICDiv").removeClass("in");
                }
            }
        };
        $scope.addCarRtic = function () {
            if(!$("#carRTICDiv").hasClass("in")) {
                $("#carRTICDiv").addClass("in");
            }
            $scope.rticData.carRticData.unshift(
                    {
                        code: "1",
                        rank: "1",
                        rticDir: "2",
                        updownFlag: "1",
                        rangeType: "1"
                    }
            )
        };
        $scope.minusCarRtic=function(id){
            $scope.rticData.carRticData.splice(id, 1);
            if($scope.rticData.carRticData.length) {
                if($("#carRTICDiv").hasClass("in")) {
                    $("#carRTICDiv").removeClass("in");
                }

            }
        }
    })
</script>